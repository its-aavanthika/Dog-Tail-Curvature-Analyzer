<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tail Analysis Result</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; padding: 20px; }
    .container { max-width: 600px; margin: auto; }
    .slider { margin: 20px 0; }
    .message { font-weight: bold; color: #b22222; margin-top: 15px; }
    img { max-width: 100%; border: 2px solid #333; border-radius: 8px; margin-bottom: 10px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>üê∂ Tail Analysis Result</h1>
    <p><strong>Tail Curve Angle:</strong> {{ angle }}¬∞</p>
    <p><strong>Tail Straightness Score:</strong> {{ score }}/100</p>
    <p><strong>Dog Horoscope:</strong> {{ horoscope }}</p>
    <p><strong>Tail Match:</strong> {{ match }}</p>

    <h3>Detected Tail:</h3>
    <img id="rotated-tail" src="/static/tail.png" alt="Tail">

    <div class="slider">
      <label for="angle-slider">Try straightening the tail:</label><br>
      <input type="range" id="angle-slider" min="-180" max="180" value="{{ angle }}" oninput="rotateTail(this.value)">
    </div>

    <p id="slider-msg" class="message" style="display: none;">
      Nice try. But some things can't be fixed.
    </p>

    <form action="/certificate">
      <button type="submit">üìÑ Download Certificate</button>
    </form>
  </div>

  <script>
    let hasSlid = false;
    function rotateTail(angle) {
      const tail = document.getElementById('rotated-tail');
      tail.style.transform = `rotate(${angle}deg)`;

      if (!hasSlid) {
        document.getElementById('slider-msg').style.display = 'block';
        hasSlid = true;
      }
    }
  </script>
</body>
</html>
